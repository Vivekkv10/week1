
<template>
	<template if:true={objectDataIsRetrievedFromWire}>
		<div class="slds-card" style="font-family: 'Open Sans', sans-serif">

			<!-- Header -->
			<header class="slds-card__header slds-media slds-media_center">
				<div class="slds-media__figure">
					<lightning-icon icon-name="standard:account" size="small"></lightning-icon>
				</div>
				<div class="slds-media__body slds-card__header-title slds-text-title_bold" style="font-size: 14px">
					Field Mapping
				</div>
			</header>

			<div class="slds-grid slds-gutters">
				<div class="slds-col">
					<span>
                        <lightning-combobox data-id={indx} name="Select An Object" value={value} label="Salesforce Object"
                                    placeholder="Select An Object" options={ObjectOptions}
                                    onchange={handleOptionChange}>
                        </lightning-combobox></span>
				</div>
				<div class="slds-col">
					<span>
                    <lightning-input type="text" label="Mapped Voiro Object" value={selectedVoiroObjectLabel} readonly></lightning-input>
                    </span>
				</div>

			</div>



			<!-- Table --><br><br>

			<table class="slds-table slds-table_bordered slds-no-row-hover slds-table_cell-buffer" role="grid">
				<thead>
					<tr>
						<th scope="col" height="22" style="width: 3rem">Nr.</th>
						<th scope="col" height="22">Salesforce Fields</th>
						<th scope="col" height="22">Voiro Fields</th>
						<th scope="col" height="22" style="width: 3rem"></th>
					</tr>
				</thead>
				<tbody>
					<template for:each={itemList} for:item="item" for:index="indx">
						<tr class="slds-hint-parent " key={item.id} id={item.id}>
							<td style="font-weight: bold">
								<lightning-formatted-number value={item.slNo}></lightning-formatted-number>
							</td>
							<td>
								<c-combo-box-with-search label="" options={sfFieldOptions} placeholder="Select SF Field"
									onselectoption={handleSfFieldChange} classes="" data-id={indx}
									value={item.sfFieldLabel}>
								</c-combo-box-with-search>
							</td>

							<td>
								<c-combo-box-with-search label="" options={voiroFieldOptions}
									placeholder="Select Voiro Field" onselectoption={handleVoiroFieldChange} classes=""
									data-id={indx} value={item.voirofieldLabel}>
								</c-combo-box-with-search>
							</td>

							<td>
								<lightning-button-icon icon-name="utility:delete" alternative-text="Remove"
									title="Remove" name={indx} onclick={removeRow} access-key={item.slNo}>
								</lightning-button-icon>
							</td>
						</tr>
					</template>
				</tbody>
			</table>
			<div class="slds-p-left_small slds-p-vertical_small">
				<lightning-button class="slds-p-right_small" variant="destructive" label="delete all rows"
					title="delete all rows" icon-name="utility:recycle_bin_full" onclick={removeAllRows}>
				</lightning-button>
				<lightning-button variant="neutral" label="add additional row" title="add additional row"
					icon-name="utility:add" onclick={addNewRow}></lightning-button>
			</div>

			<!-- Footer -->
			<footer class="slds-modal__footer" style="padding: 0.50rem 1rem;">
				<lightning-button icon-name="utility:save" variant="brand" label="Save" title="Save"
					onclick={createJSON}></lightning-button>
			</footer>
		</div>
	</template>
</template>


